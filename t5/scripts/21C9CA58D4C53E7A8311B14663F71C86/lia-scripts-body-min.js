
if(jQuery.isLithium!==true){jQuery=LITHIUM.jQuery;}
;(function($,fbVars){"use strict";var isInitStart=false,isInitEnd=false,callbacks=[],lang=fbVars.lang||"en_US",execFB=function(callback){if(!LITHIUM.FBVars.disableFbJsSdk){if(!isInitStart){isInitStart=true;callbacks.push(callback);$(document.body).append($('<div id="fb-root"></div>'));var jsSdkSrc="//connect.facebook.net/"+lang+(fbVars.debug?"/sdk/debug.js":"/sdk.js");$.getScript(jsSdkSrc,function(){FB.init(fbVars.initOptions);for(var i=0;i<callbacks.length;i++){callbacks[i]();}
isInitEnd=true;});}else if(!isInitEnd){callbacks.push(callback);}else{callback();}}};if(fbVars.isFbUser){var bypass=false;var FBLogoutLinkSelector="a."+LITHIUM.Css.FACEBOOK_LOGOUT+", a[href*='lia-action-token-id=logoff']";function FBLogout(){if(bypass){return;}
var proceed=function(){bypass=true;$(FBLogoutLinkSelector).first().click();};window.setTimeout(proceed,5000);LITHIUM.FB.exec(function(){FB.getLoginStatus(function(response){if(response.status==="connected"){FB.logout(proceed);}else{proceed();}});});return false;}
$(document).on("click",FBLogoutLinkSelector,FBLogout);}
LITHIUM.FB={exec:function(callback){execFB(callback);},auth:function(callback,scope,failureCallback){$.each(fbVars.appIds,function(i,appId){if(appId!=fbVars.initOptions.appId){document.cookie="fbsr_"+appId+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT";}});execFB(function(){var login=function(loginStatus){var adjustedScope=(typeof scope==="string"&&scope.length>0)?scope+",":"";var options={scope:adjustedScope+fbVars.additionalFbLoginPerms};if(loginStatus!=="connected"&&loginStatus!=="not_authorized"){options.display="popup";}
FB.login(function(response){if(response.authResponse){callback(response);}else if(failureCallback){failureCallback(response);}},options);};if(scope){FB.getLoginStatus(function(response){login(response.status);});}else{var authResponse=FB.getAuthResponse();if(authResponse){callback({authResponse:authResponse});}else{FB.getLoginStatus(function(response){if(response.status!=="connected"){login(response.status);}else{callback({authResponse:response.authResponse});}});}}});},isInit:function(){return isInitEnd;},checkPermission:function(permissionName,grantedCallback,notGrantedCallback,declinedCallback){FB.api("me/permissions",function(response){var data=response.data,i;if(data){for(i=0;i<data.length;i++){if(data[i].permission==permissionName){if(grantedCallback&&data[i].status==="granted"){grantedCallback(permissionName);}else if(declinedCallback&&data[i].status==="declined"){declinedCallback(permissionName);}
return;}}}
if(notGrantedCallback){notGrantedCallback(permissionName);}});},obtainPermission:function(permissionName,grantedCallback,notGrantedCallback,declinedCallback){LITHIUM.FB.auth(function(){LITHIUM.FB.checkPermission(permissionName,grantedCallback,notGrantedCallback,declinedCallback);},permissionName);},revokePermission:function(permissionName,revokeCallback){FB.api("me/permissions",{fields:permissionName},"DELETE",function(response){if(response&&!response.error&&revokeCallback){revokeCallback(response);}});}};})(LITHIUM.jQuery,LITHIUM.FBVars);
;(function($LITH){LITHIUM.Dialog=function(params){var triggerSelector=params.triggerSelector;var runOnceMap=$LITH(document.body).data("LITHIUM.Dialog.runOnceMap");var repositionInterval;var lastHeight=$LITH(document.body).height();if(runOnceMap==null){runOnceMap={};}
if(runOnceMap[triggerSelector]!==true){runOnceMap[triggerSelector]=true;$LITH(document.body).data("LITHIUM.Dialog.runOnceMap",runOnceMap);$LITH(document).on(params.triggerEvent,triggerSelector,function(event){var element=$LITH(this);var dialogOptionsKey=element.data(params.dialogKey);var content=element.data("LITHIUM.Dialog.content");var lightbox=element.data("LITHIUM.Dialog.lightbox");var clearOnClose=true;params=$LITH.extend({},params,LITHIUM.Dialog.options[dialogOptionsKey]);params.triggerMemo=event.memo;if(lightbox===undefined&&content===undefined){if(window.self!==window.top){var windowWidth=$LITH(window).width();if(params.dialogOptions.position.length>1){if(params.dialogOptions.position[1]==="center"){params.dialogOptions.position[1]=50;}
var windowHeight=$LITH(window).height();if(params.dialogOptions.minHeight>windowHeight){params.dialogOptions.minHeight=windowHeight;}
if(params.dialogOptions.maxHeight>(windowHeight-155)){params.dialogOptions.maxHeight=windowHeight-155;}}else{params.dialogOptions.position[1]=50;}
if(params.dialogOptions.minWidth>windowWidth){params.dialogOptions.minWidth=windowWidth;}
if(params.dialogOptions.maxWidth>(windowWidth-40)){params.dialogOptions.maxWidth=windowWidth-40;}}
repositionInterval=setInterval(function(){var docHeight=$LITH(document.body).height();if(Math.abs(lastHeight-docHeight)>20){lastHeight=docHeight;lightbox.dialog("option","position",params.dialogOptions.position);}},250);$LITH.extend(params.dialogOptions,{close:function(event){$LITH(this).trigger("LITHIUM:beforeLightboxCloseEvent");if(clearOnClose){$LITH(this).empty();}
$LITH("html").removeClass("lia-dialog-open");$LITH(this).dialog("widget").closest(".ui-dialog").removeClass("lia-in").shim(false);},open:function(){if(window!==window.top){$LITH(this).css("overflow","auto");}
if(params.dialogOptions.maxHeight!=="undefined"){$LITH(this).css("max-height",params.dialogOptions.maxHeight);params.dialogOptions.maxHeight=null;}
if(params.accessibility){var img="<img src = \""+params.closeImageIconURL+"\" alt = \""+params.buttonDialogCloseAlt+"\" title = \""+params.buttonDialogCloseAlt+"\" >";$LITH(this).parent().find(".ui-dialog-titlebar-close").html(img);lightbox.dialog("widget").closest(".ui-dialog").addClass('lia-accessibility');}
if(!$LITH(this).parent().find(".ui-dialog-title").text().trim()){$LITH(this).parent().addClass("lia-dialog-titleless").removeAttr("aria-labelledby");if(params.dialogOptions.ariaLabel&&params.dialogOptions.ariaLabel!=""){$LITH(this).parent().attr("aria-label",params.dialogOptions.ariaLabel);}else if(params.defaultAriaLabel&&params.defaultAriaLabel!=""){$LITH(this).parent().attr("aria-label",params.defaultAriaLabel);}}
$LITH(this).parent().find(".ui-dialog-titlebar-close").unbind("click").click(function(){lightbox.trigger("LITHIUM:lightboxCloseEvent");return false;});$LITH("html").addClass("lia-dialog-open");lightbox.trigger("LITHIUM:lightboxOpenEvent",{activecastFullscreen:params.activecastFullscreen});}});content=$LITH("<div/>").addClass(params.dialogContentCssClass);lightbox=$LITH(content).dialog(params.dialogOptions);element.data("LITHIUM.Dialog.content",content);element.data("LITHIUM.Dialog.lightbox",lightbox);var closeDialog=function(event){if(event.memo&&event.memo.clearOnClose===false){clearOnClose=false;}
lightbox.dialog("close");clearInterval(repositionInterval);$LITH(document).trigger("mousedown").trigger("mouseup");}
$LITH(lightbox).bind("LITHIUM:lightboxCloseEvent",closeDialog);$LITH(document).bind("LITHIUM:lightboxCloseEventGlobal",closeDialog);}else{lightbox.dialog('option','title',params.dialogOptions.title);}
if(!lightbox.dialog("isOpen")){content.empty();if(params.contentType==="url"){content.append($LITH("<iframe/>",{"src":params.contentContext}));content.addClass('lia-panel-dialog-content-type-iframe');lightbox.dialog("widget").closest(".ui-dialog").addClass("lia-in").shim();}else if(params.contentType==="html"){content.append(params.contentContext);content.addClass('lia-panel-dialog-content-type-html');content.parent().addClass('lia-in');lightbox.dialog("widget").closest(".ui-dialog").addClass("lia-in").shim();}else if(params.contentType==="ajax"){content.addClass('lia-panel-dialog-content-type-ajax');var memo=params.triggerMemo||{};$LITH.extend(memo,{success:function(response){var component=response.parameters[0].component;var newContent=component.content;if(LITHIUM.AngularSupport.isAngularEnabled()){newContent=LITHIUM.AngularSupport.compile(component.content);}
var earlyClickElements=[];var scriptsLoaded=false;var onScriptsLoaded=function(){scriptsLoaded=true;for(var i=0;i<earlyClickElements.length;i++){$LITH(earlyClickElements[i]).trigger('click');}};if(newContent){$LITH(newContent).on('click',function(event){if(!scriptsLoaded){var element=event.target;var eventCaptured=element.getAttribute("data-lia-early-event-captured");if(eventCaptured!==true){element.setAttribute("data-lia-early-event-captured",true);earlyClickElements.push(element);}
return false;}});}
content.append(newContent);LITHIUM.AjaxSupport.ScriptsProcessor.handleScriptEvaluation(component,null,onScriptsLoaded);if(window===window.top){if(params.dialogOptions.fitInWindow){var lightboxHeightDiff=lightbox.parent().height()-lightbox.height();if(lightbox.parent().height()>$LITH(window).height()-155){var height;if(lightbox.dialog("option","minHeight")>$LITH(window).height()-155){height=lightbox.dialog("option","minHeight");}else{height=$LITH(window).height()-155;}
lightbox.parent().css("height",height);lightbox.css("height",height-lightboxHeightDiff);lightbox.dialog("option","maxWidth",lightbox.parent().width());}}
if(lightbox.parent().height()>lightbox.dialog("option","maxHeight")){lightbox.dialog("option","maxHeight",lightbox.parent().height());}
if(lightbox.parent().width()>lightbox.dialog("option","maxWidth")){lightbox.dialog("option","maxWidth",lightbox.parent().width());}
lightbox.dialog("option","position",params.dialogOptions.position);}
var offset=lightbox.dialog("widget").closest(".ui-dialog").offset();if(offset!=null&&offset.left<0){lightbox.dialog("widget").closest(".ui-dialog").css("left",0);}
lightbox.dialog("widget").closest(".ui-dialog").addClass("lia-in").shim();}});$LITH(this).trigger(params.ajaxEvent,memo);}
if(params.dialogOptions.overflow){lightbox.dialog("widget").closest(".ui-dialog").css("overflow",params.dialogOptions.overflow);}
lightbox.dialog("open");}
return false;});}};LITHIUM.Dialog.options={};})(LITHIUM.jQuery);;(function($){if($.ui&&$.ui.dialog){$.ui.dialog.overlay.events=$.map("focus,keydown,keypress".split(","),function(event){return event+".dialog-overlay";}).join(' ');}}(LITHIUM.jQuery));
;(function($LITH){LITHIUM.InformationBox=function(params){var component=$LITH(params.componentSelector);var $doc=$LITH(document);if(params.faceLinkUrl){component.click(function(){window.location.href=params.faceLinkUrl;});}
if(params.closeLinkSelector){var closeLink=$LITH(params.closeLinkSelector);if(closeLink.exists()){closeLink.click(function(){component.remove();return false;});}}
if($doc.data('li-information-box-hide-init')===undefined){$doc.data('li-information-box-hide-init',true);$doc.on(params.updateFeedbackEvent,function(event){$LITH(params.feedbackSelector).hide();});}};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.AjaxFeedback=function(feedbackSelector,hideFeedbackEvent,persistSelector){if(LITHIUM.AjaxFeedback.init!==true){LITHIUM.AjaxFeedback.init=true;$LITH(document).on(hideFeedbackEvent,function(){$LITH(feedbackSelector).not(persistSelector).children().hide();});}}})(LITHIUM.jQuery);
;(function(window,document,$){var isInputSupported='placeholder'in document.createElement('input'),isTextareaSupported='placeholder'in document.createElement('textarea'),prototype=$.fn,valHooks=$.valHooks,hooks,placeholder;if(isInputSupported&&isTextareaSupported){placeholder=prototype.placeholder=function(){return this;};placeholder.input=placeholder.textarea=true;}else{placeholder=prototype.placeholder=function(){var $this=this;$this.filter((isInputSupported?'textarea':':input')+'[placeholder]').not('.placeholder').bind({'focus.placeholder':clearPlaceholder,'blur.placeholder':setPlaceholder}).data('placeholder-enabled',true).trigger('blur.placeholder');return $this;};placeholder.input=isInputSupported;placeholder.textarea=isTextareaSupported;hooks={'get':function(element){var $element=$(element);return $element.data('placeholder-enabled')&&$element.hasClass('placeholder')?'':element.value;},'set':function(element,value){var $element=$(element);if(!$element.data('placeholder-enabled')){return element.value=value;}
if(value==''){element.value=value;if(element!=document.activeElement){setPlaceholder.call(element);}}else if($element.hasClass('placeholder')){clearPlaceholder.call(element,true,value)||(element.value=value);}else{element.value=value;}
return $element;}};isInputSupported||(valHooks.input=hooks);isTextareaSupported||(valHooks.textarea=hooks);$(function(){$(document).delegate('form','submit.placeholder',function(){var $inputs=$('.placeholder',this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder);},10);});});$(window).bind('beforeunload.placeholder',function(){$('.placeholder').each(function(){this.value='';});});}
function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;$.each(elem.attributes,function(i,attr){if(attr.specified&&!rinlinejQuery.test(attr.name)){newAttrs[attr.name]=attr.value;}});return newAttrs;}
function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr('placeholder')&&$input.hasClass('placeholder')){if($input.data('placeholder-password')){$input=$input.hide().next().show().attr('id',$input.removeAttr('id').data('placeholder-id'));if(event===true){return $input[0].value=value;}
$input.focus();}else{input.value='';$input.removeClass('placeholder');input==document.activeElement&&input.select();}}}
function setPlaceholder(){var $replacement,input=this,$input=$(input),$origInput=$input,id=this.id;if(input.value==''){if(input.type=='password'){if(!$input.data('placeholder-textinput')){try{$replacement=$input.clone().attr({'type':'text'});}catch(e){$replacement=$('<input>').attr($.extend(args(this),{'type':'text'}));}
$replacement.removeAttr('name').data({'placeholder-password':true,'placeholder-id':id}).bind('focus.placeholder',clearPlaceholder);$input.data({'placeholder-textinput':$replacement,'placeholder-id':id}).before($replacement);}
$input=$input.removeAttr('id').hide().prev().attr('id',id).show();}
$input.addClass('placeholder');$input[0].value=$input.attr('placeholder');}else{$input.removeClass('placeholder');}}}(this,document,jQuery));
;(function($){LITHIUM.Placeholder=function(){$("input, textarea").placeholder();};})(LITHIUM.jQuery);
;(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},autocompleteResult:function(handler){return this.bind("autocompleteResult",handler);},autocompleteReceiveData:function(handler){return this.bind("autocompleteReceiveData",handler);},autocompleteSearch:function(handler){return this.trigger("autocompleteSearch",[handler]);},autocompleteFlushCache:function(){return this.trigger("autocompleteFlushCache");},autcompleteSetOptions:function(options){return this.trigger("autcompleteSetOptions",[options]);},autocompleteRemove:function(){return this.trigger("autocompleteRemove");},autocompleteDisable:function(){return this.trigger("autocompleteDisable");},autocompleteEnable:function(){return this.trigger("autocompleteEnable");},autocompleteChange:function(){return this.trigger("autocompleteChange");},autocompleteClose:function(){return this.trigger("autocompleteClose");}});$.Autocompleter=function(input,options){var useWrapper=(typeof options.wrapperId!="undefined");var wrapper="";if(useWrapper){wrapper=$(input).parent().find('.'+options.wrapperContainerId);}
var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false,whichMouse:null};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var enabled=!options.disabled;select.init();var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){hasFocus=1;lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}
break;case KEY.DOWN:event.preventDefault();if(select.visible()){select.next();}else{onChange(0,true);}
break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}
break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}
break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();event.stopImmediatePropagation();blockSubmit=true;return false;}
break;case KEY.ESC:select.hide();if(useWrapper){wrapper.hide();}
break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(event,internal){if(!options.triggerTextLength){hasFocus++;var fromInternal=internal?internal:false;if(select.useHeader()&&!fromInternal&&enabled===true){setTimeout(function(){if(hasFocus==1){if(useWrapper){wrapper.show();}
select.show();}},10);}}}).keyup(function(event,internal){if(options.triggerTextLength){var fromInternal=internal?internal:false;if(select.useHeader()&&!fromInternal&&enabled===true){setTimeout(function(){if($input.val().length>options.triggerTextLength){if(useWrapper){wrapper.show();}
select.show();}else{var textLength=$input.val().length;if(textLength==options.triggerTextLength){select.reset();if(useWrapper){wrapper.show();}
select.show();}else if(textLength>options.triggerTextLength){if(useWrapper){wrapper.show();}
select.show();}else{hideResults();}};},10);}}}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}
if(config.whichMouse!==1){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).bind("autocompleteSearch",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}
if(typeof fn=="function"){fn(result)}else{$input.trigger("autocompleteResult",result&&[result.data,result.value])};}
$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).bind("autocompleteFlushCache",function(){cache.flush();select.reset();}).bind("autcompleteSetOptions",function(){$.extend(options,arguments[1]);if("data"in arguments[1])
cache.populate();}).bind("autocompleteRemove",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete");}).bind("autocompleteDisable",function(){enabled=false;}).bind("autocompleteEnable",function(){enabled=true;}).bind("autocompleteChange",function(){onChange(0,true);}).bind("autocompleteClose",function(){hideResultsNow(true);})
function selectCurrent(cursorAt){var selected=select.selected();if(!selected)
return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){var seperator=options.multipleSeparator.length;var cursorAt=cursorAt||$(input).selection().start;var wordAt,progress=0;$.each(words,function(i,word){progress+=word.length+1;if(cursorAt<=progress){wordAt=i;return false;}
progress+=seperator;});words[wordAt]=v;v=words.join(options.multipleSeparator+" ");}
v+=options.multipleSeparator+" ";}
if(options.updateInputOnSelect!==false){$input.val(v);}
hideResultsNow();$input.trigger("autocompleteResult",[selected.data,selected.value]);return true;}
function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL||enabled===false){select.hide();if(useWrapper){wrapper.hide();}
return;}
var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)
return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){startLoading();if(!options.matchCase){currentValue=currentValue.toLowerCase();}
request(currentValue,receiveData,hideResultsNow);}else{stopLoading();if(select.useHeader()){select.reset();}else{select.hide();if(useWrapper){wrapper.hide();}}}};function trimWords(value){if(!value)
return[""];if(!options.multiple)
return[$.trim(value)];return $.map(value.split(options.multipleSeparator),function(word){return $.trim(value).length?$.trim(word):null;});}
function lastWord(value){if(!options.multiple)
return value;var words=trimWords(value);if(words.length==1)
return words[0];var cursorAt=$(input).selection().start;if(cursorAt==value.length){words=trimWords(value)}else{words=trimWords(value.replace(value.substring(cursorAt),""));}
return words[words.length-1];}
function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$(input).selection(previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(force){if($input.is(":focus")&&force!==true){clearTimeout(timeout);return;}
if($(document.activeElement).parents(".lia-autocomplete-container").hasClass("lia-autocomplete-container")){$(document.activeElement).blur(function(){hideResults();});return;}
var wasVisible=select.visible();select.hide();if(useWrapper){wrapper.hide();}
clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.autocompleteSearch(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}
else{$input.val("");$input.trigger("autocompleteResult",null);}}});}};function receiveData(q,data,jqXHR){if(data&&data.length){select.display(data,q);stopLoading();autoFill(q,data[0].value);if(hasFocus){if(useWrapper){wrapper.show();}
select.show();}else{hideResultsNow();}}else if(options.emptyText!==false){select.emptyList();select.setEmptyText();}else{hideResultsNow();}
$input.trigger("autocompleteReceiveData",[data,jqXHR]);};function request(term,success,failure){if(!options.matchCase)
term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),beforeSend:function(data){$input.trigger("autocompleteSearchServer",data);},success:function(data,textStatus,jqXHR){var parsed=options.parse&&options.parse(data)||parse(data);cache.add(term,parsed);success(term,parsed,jqXHR);}});}else{select.emptyList();failure(term);}};function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}
return parsed;};function stopLoading(){$(input).removeClass(options.loadingClass);select.stopLoading();};function startLoading(){$(input).addClass(options.loadingClass);select.startLoading();}};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",hasResultsClass:"ac_has_results",emptyResultClass:"ac_empty_result",inputHasResultsClass:"ac_input__has_results",inputEmptyResultClass:"ac_input_empty_result",loadingClass:"ac_loading",activeClass:"ac_over",oddRowClass:"ac_odd",evenRowClass:"ac_event",headerClass:"ac_header",footerClass:"ac_footer",listWrapperClass:"ac_content",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:1000,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180,defaultText:false,loadingText:false,successText:false,emptyText:false,footerContent:false,updateInputOnSelect:true};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)
s=s.toLowerCase();var i=s.indexOf(sub);if(options.matchContains=="word"){i=s.toLowerCase().autocompleteSearch("\\b"+sub.toLowerCase());}
if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(options.cacheLength>0){if(length>options.cacheLength){flush();}
if(!data[q]){length++;}
data[q]=value;}}
function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)
continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])
stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}
setTimeout(populate,25);function flush(){data={};length=0;}
return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)
return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}
return csub;}else
if(data[q]){return data[q];}else
if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}
return null;}};};$.Autocompleter.Select=function(options,input,select,config){var listItems,active=-1,data,term="",needsInit=true,element,header,footer,list,currentCursorAt;var useWrapper=(typeof options.wrapperId!="undefined");var wrapper="";if(useWrapper){wrapper=$(input).parent().find('.'+options.wrapperContainerId);}
function init(){if(!needsInit)
return;element=$("<div/>").hide();if(useWrapper){$('#'+options.wrapperId).addClass(options.resultsClass).css("position","absolute")
element.insertAfter($('#'+options.wrapperId));}else{element.insertAfter(input).addClass(options.resultsClass).css("position","absolute");}
if(useHeader()){header=$("<div/>").addClass(options.headerClass).html(options.defaultText).appendTo(element);}
list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(options.activeClass).index(target(event));$(target(event)).addClass(options.activeClass);}}).click(function(event){$(target(event)).addClass(options.activeClass);select(currentCursorAt);$(input).trigger("focus",true);$(input).val($(input).val());return false;}).mousedown(function(e){currentCursorAt=$(input).selection().start;config.mouseDownOnSelect=true;config.whichMouse=e.which;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.footerContent!==false){footer=$("<div/>").addClass(options.footerClass).appendTo(element);$.each(options.footerContent,function(i,footerContent){footer.append(footerContent.content)
eval(footerContent.scripts);});}
if(options.width>0)
element.css("width",options.width);needsInit=false;$(list).wrap($("<div>").addClass(options.listWrapperClass));}
function target(event){var element=event.target;while(element&&element.tagName!="LI")
element=element.parentNode;if(!element)
return[];return element;}
function moveSelect(step){listItems.slice(active,active+1).removeClass(options.activeClass);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(options.activeClass);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}
function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}
function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])
continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)
continue;var li=$("<li/>").html(options.highlight(formatted,term)).addClass(i%2==0?options.evenRowClass:options.oddRowClass).appendTo(list)[0];$.data(li,"ac_data",data[i]);}
listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(options.activeClass);active=0;}
if($.fn.bgiframe)
list.bgiframe();}
function useHeader(){return options.defaultText!==false||options.loadingText!==false;}
return{init:function(){init();},display:function(d,q){data=d;term=q;options.fillList?options.fillList(data):fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();if(useWrapper){wrapper.hide();}
listItems&&listItems.removeClass(options.activeClass);active=-1;element.removeClass(options.hasResultsClass);element.removeClass(options.emptyResultClass);$(input).removeClass(options.inputHasResultsClass);$(input).removeClass(options.inputEmptyResultClass);},visible:function(){var hasHeaderAndItems=true;if(useHeader()){hasHeaderAndItems=(typeof listItems!="undefined");}
return element&&element.is(":visible")&&hasHeaderAndItems;},current:function(){return this.visible()&&(listItems.filter("."+options.activeClass)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=(element.offsetParent().size()==0)?$(input).offset():$(input).position();if(useWrapper){wrapper.show();}
element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).outerWidth(),top:offset.top+input.offsetHeight,left:offset.left}).show();if($(input).val().length>0){if(list.find("li").size()>0){element.addClass(options.hasResultsClass);element.removeClass(options.emptyResultClass);$(input).addClass(options.inputHasResultsClass);$(input).removeClass(options.inputEmptyResultClass);}else{element.removeClass(options.hasResultsClass);element.addClass(options.emptyResultClass);$(input).removeClass(options.inputHasResultsClass);$(input).addClass(options.inputEmptyResultClass);listItems=list.find("li");}}
if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+options.activeClass).removeClass(options.activeClass);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){element.removeClass(options.hasResultsClass);element.addClass(options.emptyResultClass);$(input).removeClass(options.inputHasResultsClass);$(input).addClass(options.inputEmptyResultClass);list&&list.empty();listItems=list.find("li");},unbind:function(){element&&element.remove();},useHeader:function(){return useHeader();},startLoading:function(){if(options.loadingText!==false){header.html(options.loadingText);}},stopLoading:function(){if(listItems){if(options.successText!==false&&listItems.length>0){header.html(options.successText);}else if(options.defualtText!==false&&listItems.length==0){header.html(options.defualtText);}}},setEmptyText:function(){header.html(options.emptyText);},reset:function(){if(list){list.empty();}
element.removeClass(options.hasResultsClass);element.removeClass(options.emptyResultClass);$(input).removeClass(options.inputHasResultsClass);$(input).removeClass(options.inputEmptyResultClass);header.html(options.defaultText);}};};$.fn.selection=function(start,end){if(start!==undefined){return this.each(function(){if(this.createTextRange){var selRange=this.createTextRange();if(end===undefined||start==end){selRange.move("character",start);selRange.select();}else{selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}}else if(this.setSelectionRange){this.setSelectionRange(start,end);}else if(this.selectionStart){this.selectionStart=start;this.selectionEnd=end;}});}
var field=this[0];if(field.selectionStart!==undefined){return{start:field.selectionStart,end:field.selectionEnd}}else if(field.createTextRange){var range=document.selection.createRange(),orig=field.value,teststring="<->",textLength=range.text.length;range.text=teststring;var caretAt=field.value.indexOf(teststring);field.value=orig;this.selection(caretAt,caretAt+textLength);return{start:caretAt,end:caretAt+textLength}}};})(jQuery);
;(function($){LITHIUM.AutoComplete=function(params){$.extend($.Autocompleter.defaults,{inputClass:"lia-autocomplete-input",resultsClass:params.options.defaultText?"lia-autocomplete-container":"lia-autocomplete",hasResultsClass:"lia-autocomplete-has-results",emptyResultClass:"lia-autocomplete-empty-result",inputHasResultsClass:"lia-autocomplete-input-has-results",inputEmptyResultClass:"lia-autocomplete-input-empty-result",loadingClass:"lia-autocomplete-input-loading",activeClass:"selected",oddRowClass:"lia-autocomplete-list-odd-row",evenRowClass:"lia-autocomplete-list-even-row",headerClass:"lia-autocomplete-header",footerClass:"lia-autocomplete-footer",listWrapperClass:"lia-autocomplete-content",scroll:false,selectFirst:false,highlight:false,matchSubset:false});$.extend(params.options,{parse:function(data){return $.type(data)==='string'?$.evalJSON(data):data;}})
var inputField=$(params.inputSelector);inputField.attr("aria-autocomplete","both");inputField.autocomplete(params.url,params.options);inputField.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){if(event.which==13){$(this).trigger("autocompleteResultEnter",event);}
if(params.options.autocompleteInstructionsSelector&&(event.which==40||event.which==38)){$(params.options.autocompleteInstructionsSelector).text($("."+$.Autocompleter.defaults.activeClass).text().trim());}});inputField.autocompleteReceiveData(function(data){var $instructionTextElement=$(params.options.autocompleteInstructionsSelector)
var text=data.memo.length>0?params.options.autosuggestionAvailableInstructionText:params.options.autosuggestionUnavailableInstructionText;$instructionTextElement.text(text);});inputField.autcompleteSetOptions({extraParams:params.context});if(params.redirectToItemLink===true){inputField.bind("autocompleteResult",function(event,row,data){window.open(data.url,'_blank');});}
$(document.body).on('LITHIUM:autocomplete:close',function(){inputField.autocompleteClose();});}})(LITHIUM.jQuery);

(function($){$.tools=$.tools||{version:'1.2.6'};$.tools.tooltip={conf:{effect:'toggle',fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:false,position:['top','center'],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:'<div/>',tipClass:'tooltip'},addEffect:function(name,loadFn,hideFn){effects[name]=[loadFn,hideFn];}};var effects={toggle:[function(done){var conf=this.getConf(),tip=this.getTip(),o=conf.opacity;if(o<1){tip.css({opacity:o});}
tip.show();done.call();},function(done){this.getTip().hide();done.call();}],fade:[function(done){var conf=this.getConf();if(!$.browser.msie||conf.fadeIE){this.getTip().fadeTo(conf.fadeInSpeed,conf.opacity,done);}
else{this.getTip().show();done();}},function(done){var conf=this.getConf();if(!$.browser.msie||conf.fadeIE){this.getTip().fadeOut(conf.fadeOutSpeed,done);}
else{this.getTip().hide();done();}}]};function getPosition(trigger,tip,conf){var top=conf.relative?trigger.position().top:trigger.offset().top,left=conf.relative?trigger.position().left:trigger.offset().left,pos=conf.position[0];top-=tip.outerHeight()-conf.offset[0];left+=trigger.outerWidth()+conf.offset[1];if(/iPad/i.test(navigator.userAgent)){top-=$(window).scrollTop();}
var height=tip.outerHeight()+trigger.outerHeight();if(pos=='center'){top+=height/2;}
if(pos=='bottom'){top+=height;}
pos=conf.position[1];var width=tip.outerWidth()+trigger.outerWidth();if(pos=='center'){left-=width/2;}
if(pos=='left'){left-=width;}
return{top:top,left:left};}
function Tooltip(trigger,conf){var self=this,fire=trigger.add(self),tip,timer=0,pretimer=0,title=trigger.attr("title"),tipAttr=trigger.attr("data-tooltip"),effect=effects[conf.effect],shown,isInput=trigger.is(":input"),isWidget=isInput&&trigger.is(":checkbox, :radio, select, :button, :submit"),type=trigger.attr("type"),evt=conf.events[type]||conf.events[isInput?(isWidget?'widget':'input'):'def'];if(!effect){throw"Nonexistent effect \""+conf.effect+"\"";}
evt=evt.split(/,\s*/);if(evt.length!=2){throw"Tooltip: bad events configuration for "+type;}
trigger.bind(evt[0],function(e){clearTimeout(timer);if(conf.predelay){pretimer=setTimeout(function(){self.show(e);},conf.predelay);}else{self.show(e);}}).bind(evt[1],function(e){clearTimeout(pretimer);if(conf.delay){timer=setTimeout(function(){self.hide(e);},conf.delay);}else{self.hide(e);}});if(title&&conf.cancelDefault){trigger.removeAttr("title");trigger.data("title",title);}
$.extend(self,{show:function(e){if(!tip){if(tipAttr){tip=$(tipAttr);}else if(conf.tip){tip=$(conf.tip).eq(0);}else if(title){tip=$(conf.layout).addClass(conf.tipClass).appendTo(document.body).hide().append(title);}else{tip=trigger.next();if(!tip.length){tip=trigger.parent().next();}}
if(!tip.length){throw"Cannot find tooltip for "+trigger;}}
if(self.isShown()){return self;}
tip.stop(true,true);var pos=getPosition(trigger,tip,conf);if(conf.tip){tip.html(trigger.data("title"));}
e=$.Event();e.type="onBeforeShow";fire.trigger(e,[pos]);if(e.isDefaultPrevented()){return self;}
pos=getPosition(trigger,tip,conf);tip.css({position:'absolute',top:pos.top,left:pos.left});shown=true;effect[0].call(self,function(){e.type="onShow";shown='full';fire.trigger(e);});var event=conf.events.tooltip.split(/,\s*/);if(!tip.data("__set")){tip.unbind(event[0]).bind(event[0],function(){clearTimeout(timer);clearTimeout(pretimer);});if(event[1]&&!trigger.is("input:not(:checkbox, :radio), textarea")){tip.unbind(event[1]).bind(event[1],function(e){if(e.relatedTarget!=trigger[0]){trigger.trigger(evt[1].split(" ")[0]);}});}
if(!conf.tip)tip.data("__set",true);}
return self;},hide:function(e){if(!tip||!self.isShown()){return self;}
e=$.Event();e.type="onBeforeHide";fire.trigger(e);if(e.isDefaultPrevented()){return;}
shown=false;effects[conf.effect][1].call(self,function(){e.type="onHide";fire.trigger(e);});return self;},isShown:function(fully){return fully?shown=='full':shown;},getConf:function(){return conf;},getTip:function(){return tip;},getTrigger:function(){return trigger;}});$.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(i,name){if($.isFunction(conf[name])){$(self).bind(name,conf[name]);}
self[name]=function(fn){if(fn){$(self).bind(name,fn);}
return self;};});}
$.fn.tooltip=function(conf){var api=this.data("tooltip");if(api){return api;}
conf=$.extend(true,{},$.tools.tooltip.conf,conf);if(typeof conf.position=='string'){conf.position=conf.position.split(/,?\s/);}
this.each(function(){api=new Tooltip($(this),conf);$(this).data("tooltip",api);});return conf.api?api:this;};})(jQuery);

(function($){var t=$.tools.tooltip;t.dynamic={conf:{classNames:"lia-tooltip-pos-bottom-left lia-tooltip-pos-bottom-right lia-tooltip-pos-top-left lia-tooltip-pos-top-right"}};function getCropping(event,el){var w=$(window);var target=$(event.target);var bottom=w.height()+w.scrollTop();var right=target.parent().width();var topEdge=el.offset().top<=w.scrollTop();var rightEdge=right<=el.offset().left+el.width()||el.offset().left+el.width()>right;var bottomEdge=bottom<=el.offset().top+el.height();var leftEdge=w.scrollLeft()>=el.offset().left;return[topEdge,rightEdge,bottomEdge,leftEdge];}
function isVisible(crop){var i=crop.length;while(i--){if(crop[i]){return false;}}
return true;}
$.fn.dynamic=function(conf){if(typeof conf=='number'){conf={speed:conf};}
conf=$.extend({},t.dynamic.conf,conf);var confOrigin=$.extend(true,{},conf),cls=conf.classNames.split(/\s/),orig;this.each(function(){var api=$(this).tooltip().onBeforeShow(function(e,pos){var tip=this.getTip(),tipConf=this.getConf();if(!orig){orig=[tipConf.position[0],tipConf.position[1],tipConf.offset[0],tipConf.offset[1],$.extend({},tipConf)];}
$.extend(tipConf,orig[4]);tipConf.position=[orig[0],orig[1]];tipConf.offset=[orig[2],orig[3]];tip.css({visibility:'hidden',position:'absolute',top:pos.top,left:pos.left}).show();var conf=$.extend(true,{},confOrigin);var crop=getCropping(e,tip);if(!isVisible(crop)){if(crop[2]){$.extend(tipConf,conf.top);tipConf.position[0]='top';}
if(crop[3]){$.extend(tipConf,conf.right);tipConf.position[1]='right';}
if(crop[0]){$.extend(tipConf,conf.bottom);tipConf.position[0]='bottom';}
if(crop[1]){$.extend(tipConf,conf.left);tipConf.position[1]='left';}
if(crop[0]||crop[2]){tipConf.offset[0]*=-1;}
if(crop[1]||crop[3]){tipConf.offset[1]*=-1;}}
tip.addClass('lia-tooltip-pos-'+tipConf.position[0]+'-'+tipConf.position[1]);tip.css({visibility:'visible'}).hide();});api.onBeforeShow(function(){var c=this.getConf(),tip=this.getTip();setTimeout(function(){c.position=[orig[0],orig[1]];c.offset=[orig[2],orig[3]];},0);});api.onHide(function(){var tip=this.getTip();tip.removeClass(conf.classNames);});ret=api;});return conf.api?ret:this;};})(LITHIUM.jQuery||jQuery);
;(function($){LITHIUM.Tooltip=function(params){var $tooltip=$(params.tooltipElementSelector);var $tooltipPlaceholder=$(params.dynamicTooltipPlaceholderSelector);var tooltipId=$tooltip.attr('id');var $trigger=$(params.triggerSelector);var $arrow=$tooltip.find('.lia-tooltip-arrow');var interval;var tooltipObj=$trigger.tooltip({predelay:params.predelay,delay:params.delay,position:params.position,offset:params.offset,relative:false,tip:params.tooltipElementSelector,events:params.events,onBeforeShow:function(event,position){$trigger.attr({'aria-describedby':tooltipId,'aria-controls':tooltipId});if(position.left<10){$tooltip.css('width',$trigger.offset().left);}
$tooltip.addClass('lia-overflow-width');$tooltip.css('width',$tooltipPlaceholder.width());if(LITHIUM.Tooltip.currentTip){LITHIUM.Tooltip.currentTip.hide();}
LITHIUM.Tooltip.currentTip=$trigger.data('tooltip');if(params.dynamicTooltip===true){var triggerMemo=event.memo||{};var $currentTriggerElement=$(event.target);var dataFromElem=$.extend({},$currentTriggerElement.data());delete dataFromElem.tooltip;$tooltip.find('.content').html($(params.dynamicTooltipPlaceholderSelector).html());$.extend(triggerMemo,{parameterOverrides:$.toJSON(dataFromElem),success:function(response){var component=response.parameters[0].component;var newContent=component.content;if(LITHIUM.AngularSupport.isAngularEnabled()){newContent=LITHIUM.AngularSupport.compile(component.content);}
var earlyClickElements=[];var scriptsLoaded=false;var onScriptsLoaded=function(){scriptsLoaded=true;for(var i=0;i<earlyClickElements.length;i++){$(earlyClickElements[i]).trigger('click');}};if(newContent){$(newContent).on('click',function(event){if(!scriptsLoaded){var element=event.target;var eventCaptured=element.getAttribute("data-lia-early-event-captured");if(eventCaptured!==true){element.setAttribute("data-lia-early-event-captured",true);earlyClickElements.push(element);}
return false;}});}
$tooltip.find('.content').html(newContent);LITHIUM.AjaxSupport.ScriptsProcessor.handleScriptEvaluation(component,null,onScriptsLoaded);}});$tooltip.trigger('LITHIUM:renderTooltip',triggerMemo);}},onShow:function(event){var tip=$trigger.data('tooltip');var $target=$(event.target);var tipConf=this.getConf();var posY=tipConf.position[0];var posX=tipConf.position[1];var parentWidth=$target.parent().width();if($tooltip.offset().left<10){$tooltip.addClass('lia-overflow lia-overflow-left');}
if($tooltip[0].getBoundingClientRect().right<10){$tooltip.addClass('lia-overflow lia-overflow-right');}
var left=posX==='right'?($target.offset().left+$target.width()-$tooltip.offset().left)/2:$target.offset().left-$tooltip.offset().left;if($arrow.length>0){$arrow.css({left:left,right:'auto'});}
if($target[0].getBoundingClientRect().height>$target[0].getClientRects()[0].height){$tooltip.css({left:$target[0].getClientRects()[$target[0].getClientRects().length-1].left+50});}},onHide:function(event){$arrow.css({left:'unset'});$tooltip.css({left:'unset'});$tooltip.removeClass('lia-overflow lia-overflow-left lia-overflow-right');LITHIUM.Tooltip.currentTip=false;clearInterval(interval);if(params.dynamicTooltip===true){$tooltip.find('.content').html('');}}});if($.isFunction(tooltipObj.dynamic)){tooltipObj.dynamic();}else if($.isFunction(tooltipObj.getTrigger)){tooltipObj.getTrigger().dynamic();}
if($trigger.get(0)!==null&&$trigger.get(0)!==undefined&&$trigger.get(0).nodeName.toLowerCase()==="a"){if(params.enableOnClickForTrigger===false){$trigger.click(function(event){return false;});}}
$tooltip.hide();if(LITHIUM.Loader.isLoaded()===true){$tooltip.appendTo(params.bodySelector);}else{LITHIUM.Loader.onLoad(function(){$tooltip.appendTo(params.bodySelector);});}};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.SearchAutoCompleteToggle=function(params){var container=$LITH(params.containerSelector);var inputs=container.find(params.autoCompleteSelector);container.bind(params.enableAutocompleteSuccessEvent,function(){container.find(params.enableAutoCompleteSelector).hide();container.find(params.disableAutoCompleteSelector).show();inputs.autocompleteEnable();inputs.not(":hidden").focus();});container.bind(params.disableAutocompleteSuccessEvent,function(){container.find(params.disableAutoCompleteSelector).hide();container.find(params.enableAutoCompleteSelector).show();inputs.autocompleteDisable();});}})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.SearchForm=function(params){var form=$LITH(params.formSelector);var selectElements=form.find(params.selectSelector);var buttonElements=form.find(params.buttonSelector);var activeInput=form.find(".search-input").not(":hidden");var inputs=form.find(params.inputSelector);var clearSearchButton;if(params.useClearSearchButton){clearSearchButton=form.find(params.clearSearchButtonSelector);clearSearchButton.click(function(){activeInput.val("");activeInput.focus();if(params.useAutoComplete===true){activeInput.autocompleteFlushCache();activeInput.autocompleteChange();}
clearSearchButton.addClass("lia-js-hidden");});form.find(".search-input").on("input",function(){if(activeInput.val()==""){clearSearchButton.addClass("lia-js-hidden");}else{clearSearchButton.removeClass("lia-js-hidden");}});}
var isSearching=false;var isFormSubmit=false;var updateAutoCompleteContext=function(context){if(params.useAutoComplete===true){activeInput.autcompleteSetOptions({extraParams:{searchContext:context}});}};selectElements.change(function(){var currentOptionValue=selectElements.val();if(params.nodesModel.hasOwnProperty(currentOptionValue)){var selectedItem=params.nodesModel[currentOptionValue];buttonElements.attr("title",selectedItem.title);activeInput.hide();activeInput=form.find(selectedItem.inputSelector).val(activeInput.val()).show();updateAutoCompleteContext(currentOptionValue);activeInput.autocompleteFlushCache();activeInput.autocompleteChange();};});if(params.useAutoComplete===true){updateAutoCompleteContext(selectElements.val());form.bind("autocompleteResult",function(event,row,data){window.location=data.url;});form.bind("autocompleteSearchServer",function(){isSearching=true;});form.bind('autocompleteReceiveData',function(event,data,jqXHR){isSearching=false;var asSearchActionId=jqXHR.getResponseHeader(params.asSearchActionIdHeaderKey);if(asSearchActionId!==null){form.find(params.asSearchActionIdSelector).val(asSearchActionId);}
if(isFormSubmit===true){buttonElements.click();}});form.submit(function(event){activeInput.trigger("autocompleteDisable");if(isSearching===true){event.stop();isFormSubmit=true;}
isSearching=true;});}
form.find('.lia-search-toggle').click(function(){$LITH('.lia-body').addClass('lia-phone-search-open');$LITH(this).closest('.lia-component-common-widget-search-form').find('.search-input:visible').focus();});form.find('.lia-cancel-search').click(function(){$LITH('.lia-body').removeClass('lia-phone-search-open');});};})(LITHIUM.jQuery);
;(function($LITH){LITHIUM.CustomEvent=function(selector,triggerEvent){if(LITHIUM.CustomEvent[triggerEvent]!==true){LITHIUM.CustomEvent[triggerEvent]=true;LITHIUM.Cache.create("CustomEvent",["elementId","triggerEvent"]);$LITH(document).on(triggerEvent,selector,function(event){var element=$LITH(this);var customEvent=LITHIUM.Cache.CustomEvent.get({elementId:element.attr("id"),triggerEvent:event.handleObj.origType});if(customEvent.fireEvent){var fireEventObj=$LITH.Event(customEvent.fireEvent);fireEventObj.hasOwnProperty("data")?$LITH.extend(fireEventObj.data,customEvent.eventContext):fireEventObj.data=customEvent.eventContext;element.trigger(fireEventObj);if(fireEventObj.isDefaultPrevented()||fireEventObj.isPropagationStopped()){return false;}}
if(customEvent.stopTriggerEvent){return false;}});}}})(LITHIUM.jQuery);
;(function($LITH){if(LITHIUM.DropDownMenu){return;}
LITHIUM.DropDownMenu=function(params){if(LITHIUM.DropDownMenu.init!==true){LITHIUM.DropDownMenu.init=true;var menus=[];var menuOpenedDataKey="LITHIUM.DropDownMenu.opened";var menuItemsDataKey="LITHIUM.DropDownMenu.menuItems";LITHIUM.DropDownMenu.createMenu=function(event){var menu=$LITH(event.target).closest(params.menuElementSelector);var menuItems=menu.find(params.menuItemsSelector);menu.data(menuItemsDataKey,menuItems);menus.push(menu);return menu;}
LITHIUM.DropDownMenu.openMenu=function(menu){var menuOpenerSide=menu.offset().left<$LITH(window).width()/2?'left':'right';var menuItems=menu.data(menuItemsDataKey);var isRTL=$LITH('html').attr('dir')=='rtl';var hasMenuSpaceLeft;var hasMenuSpaceRight;var isMenuOverflowing;LITHIUM.DropDownMenu.closeAllMenus();menu.data(menuOpenedDataKey,true).addClass(params.menuOpenCssClass);menu.context.setAttribute("aria-expanded","true");isMenuOverflowing=menuItems.offset().left<0||menuItems.offset().left+menuItems.outerWidth()>$LITH(window).width();if(isMenuOverflowing){hasMenuSpaceLeft=menu.offset().left-menuItems.outerWidth()>0;hasMenuSpaceRight=menu.offset().left+menuItems.outerWidth()<$LITH(window).width();if(hasMenuSpaceLeft){if(isRTL){menu.data(menuOpenedDataKey,true).addClass('lia-menu-overflow-left');}else{menu.data(menuOpenedDataKey,true).addClass('lia-menu-overflow-right');}}else if(hasMenuSpaceRight){if(isRTL){menu.data(menuOpenedDataKey,true).addClass('lia-menu-overflow-right');}else{menu.data(menuOpenedDataKey,true).addClass('lia-menu-overflow-left');}}else{menu.data(menuOpenedDataKey,true).addClass('lia-menu-overflow-both');menuItems.css('left',menuItems.position().left-menuItems.offset().left+5);menuItems.css('width',$LITH(window).width()-10);}}
menuItems.shim()
menu.trigger(params.menuOpenedEvent);}
LITHIUM.DropDownMenu.closeAllMenus=function(){$LITH.each(menus,function(){var menu=$LITH(this);if(menu.data(menuOpenedDataKey)===true){menu.data(menuOpenedDataKey,false).removeClass(params.menuOpenCssClass).data(menuItemsDataKey).shim(false);menu.context.setAttribute("aria-expanded","false");menu.trigger(params.menuClosedEvent);}});}
LITHIUM.DropDownMenu.clickCloseMenus=function(event){if(event.currentTarget===document){LITHIUM.DropDownMenu.closeAllMenus();}}
$LITH(document).on("click",params.clickElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);$LITH(menu).focusout({menu:menu},LITHIUM.DropDownMenu.focusoutCloseMenus);}else{LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"click",LITHIUM.DropDownMenu.clickCloseMenus);$LITH(menu).off('focusout',LITHIUM.DropDownMenu.focusoutCloseMenus);}
return false;});$LITH(document).on(params.hoverLeaveEvent,params.clickElementSelector,LITHIUM.DropDownMenu.closeAllMenus);LITHIUM.DropDownMenu.mouseoverCloseMenus=function(event){if(event.currentTarget===document&&$LITH(event.target).closest(params.menuItemsSelector).length==0){var menu=$LITH(event.target).closest(params.menuElementSelector);if(menu.length==0||(menu.length>0&&menu.not(event.data.menu).length!=0)){LITHIUM.DropDownMenu.closeAllMenus();$LITH(document).unbind(params.closeMenuEvent+" "+"mouseover",LITHIUM.DropDownMenu.mouseoverCloseMenus);}}}
LITHIUM.DropDownMenu.focusoutCloseMenus=function(event){setTimeout(function(){var menu=$LITH(document.activeElement).closest(params.menuElementSelector);if(menu.length==0||(menu.length>0&&menu.not(event.data.menu).length!=0)){LITHIUM.DropDownMenu.closeAllMenus();$LITH(event.target).unbind("focusout",LITHIUM.DropDownMenu.focusoutCloseMenus);$LITH(event.data.menu).unbind("focusout",LITHIUM.DropDownMenu.focusoutCloseMenus);}},100);}
$LITH(document).on("click",params.mouseoverElementSelector,function(event){return false;});$LITH(document).on("mouseover",params.mouseoverElementSelector,function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(document).bind(params.closeMenuEvent+" "+"mouseover",{menu:menu},LITHIUM.DropDownMenu.mouseoverCloseMenus);}
return false;});$LITH(params.mouseoverElementSelector).live('focusin',function(event){var menu=LITHIUM.DropDownMenu.createMenu(event);if(menu.data(menuOpenedDataKey)!==true){LITHIUM.DropDownMenu.openMenu(menu);$LITH(params.mouseoverElementSelector).focusout({menu:menu},LITHIUM.DropDownMenu.focusoutCloseMenus);$LITH(menu).focusout({menu:menu},LITHIUM.DropDownMenu.focusoutCloseMenus);}
return false;});}}})(LITHIUM.jQuery);
;(function($LITH){'use strict';var uniqueIndex=0;LITHIUM.ResponsiveTabsInit=function(){$LITH('.lia-tabs-secondary:not(.lia-tabs-vertical)').each(function(){new LITHIUM.ResponsiveTabs(this,{overflowType:'select'});});$LITH('.lia-tabs-sort').each(function(){new LITHIUM.ResponsiveTabs(this,{overflowType:'select',selectedFn:function(tab){return $LITH(tab).find('.lia-link-disabled').length>0}});});$LITH('.lia-tabs-standard:not(.lia-tabs-vertical)').each(function(){new LITHIUM.ResponsiveTabs(this,{overflowType:'dropdown'});});};LITHIUM.ResponsiveTabs=function(tabs,options){this.$tabs=$LITH(tabs);this.options=$LITH.extend({},this.defaults,options);this.init();this.layout();};LITHIUM.ResponsiveTabs.prototype={defaults:{overflowType:'select',selectTemplate:'<select class="lia-tabselect"></select>',overflowMenuTitleTemplate:'<span class="lia-fa lia-tab-overflow-icon"></span>',selectIdPrefix:'lia-tabselect',throttleInterval:250,selectedFn:function(tab){return $LITH(tab).hasClass('lia-tabs-active');}},init:function(){this.uniqueIndex=++uniqueIndex;this.maxWidth=this.getWidth(true);if(this.options.overflowType==='select'){this.selectId=this.options.selectIdPrefix+this.uniqueIndex;this.$tabSelect=this.createSelectFromTabs();}else if(this.options.overflowType==='dropdown'){this.$overflowMenu=$LITH('.lia-tab-overflow',this.$tabs);this.overflowMenuWidth=this.$overflowMenu.width();this.$overflowMenuItems=this.$overflowMenu.find('.lia-menu-dropdown-items');$LITH('.default-menu-option',this.$overflowMenu).append(this.options.overflowMenuTitleTemplate);}
$LITH(window).on('resize',LITHIUM.Throttle($LITH.proxy(function(){this.layout();},this),this.options.throttleInterval));},getWidth:function(showMaxWidth){var cloneContainer=$LITH('<div></div>',{'class':'lia-cloned-responsive-tab-wrapper','style':'position:absolute;top:-9999px;height:0;'}).append(this.getTabsNoWrap(this.$tabs.clone(),showMaxWidth));this.$tabs.parent().append(cloneContainer);var eleWidth=cloneContainer.width();cloneContainer.remove();return eleWidth;},getTabsNoWrap:function(elem,showMaxWidth){var tabSelector=showMaxWidth?'li':'li:visible';$LITH(elem).children(tabSelector).css({'float':'none','display':'table-cell'});$LITH(elem).find('a').css('white-space','nowrap');return elem;},isOverflowing:function(){return this.maxWidth>this.$tabs.parent().width();},createSelectFromTabs:function(){var tabSelect=$LITH(this.options.selectTemplate).attr('name',this.selectId).addClass(this.selectId).addClass('lia-js-hidden');var selectedFn=this.options.selectedFn;if(this.$tabs.hasClass('lia-tabs-sort')){this.$tabs.parent().after(tabSelect);}else{this.$tabs.parent().before(tabSelect);}
this.$tabs.children('li').each(function(i,tab){tabSelect.append(createOption(tab,selectedFn(tab)));});tabSelect.on('change',function(){if($LITH(this).val().indexOf('[id=')===0){$LITH($LITH(this).val().slice(4,-1))[0].click();}else{$LITH(this).parent().find('a[href="'+$LITH(this).val()+'"]')[0].click();}});function createOption(tab,selected,prependText){prependText=prependText||'';var link=$LITH('a,.lia-link-disabled',tab);var dropdownTabSelected;var options;link.each(function(i,e){var isDropdownLink=!$LITH(e).closest('li').hasClass('lia-tabs');var linkText=prependText+$LITH(e).text();var linkHref=$LITH(e).attr('href');if($LITH(e).hasClass('default-menu-option')){if($LITH(e).find('.lia-menu-dropdown-items li').length===0){return;}}
selected=selected=selected||$LITH(e).hasClass('default-menu-option');if($LITH(e).attr('href')==='#'){var newId=$LITH(e).attr('id')?$LITH(e).attr('id'):'lia-'+Math.floor(Math.random()*34)+Date.now();linkHref='[id=#'+newId+']';}
var newTab=$LITH('<option></option>').text(linkText).val(linkHref);if(selected){newTab.attr('selected','selected');}
options=$LITH(options).add(newTab);});return options;}
return tabSelect;},createOverflowMenu:function(){return $LITH(this.options.overflowMenuTemplate);},layout:function(){if(this.options.overflowType==='select'){this.layoutSelect();}else if(this.options.overflowType==='dropdown'){this.layoutOverflowMenu();}},layoutOverflowMenu:function(){this.$tabs.children('.lia-tabs').removeClass('lia-js-hidden');this.$overflowMenu.addClass('lia-js-hidden');this.$overflowMenuItems.empty();if(!this.isOverflowing()){return;}
this.$overflowMenu.removeClass('lia-js-hidden');while(this.getWidth(true)+this.overflowMenuWidth>this.$tabs.parent().width()){var tab=this.$tabs.children(':not(.lia-tabs-active):not(.lia-tab-overflow):visible').last();if(tab.length>0){$LITH(tab).find('a').clone(true).appendTo(this.$overflowMenuItems).wrapAll('<li></li>');tab.addClass('lia-js-hidden');}else{break;}}},layoutSelect:function(){if(this.isOverflowing()){this.$tabs.addClass('lia-js-hidden');this.$tabSelect.removeClass('lia-js-hidden');}else{this.$tabs.removeClass('lia-js-hidden');this.$tabSelect.addClass('lia-js-hidden');}}};})(LITHIUM.jQuery);
